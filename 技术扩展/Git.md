# Git

## GitHub入门与实践书籍阅读记录

#### 关于GitHub

GitHub是为开发者提供的Git仓库托管服务，在Git中，开发者将源代码存入名叫Git仓库的资料中并加以使用，GitHub则是在网络上提供Git仓库的一项服务，也就是说GitHub上公开的软件源代码全都由Git进行管理。(GitHub使用Markdown语法进行文字描述)

关于GitHub的一些主要功能有：

* Pull Request：是指开发者在本地对源代码进行更改后，向GitHub中托管的Git仓库请求合并的功能
* Issue：可以交互任务管理和Bug熬膏，通过@用户名的方式书写使对方得到通知
* Watch：对感兴趣的仓库关注其动态

关于其他一些功能：

* .gitignore：把不需要在Git仓库中进行版本管理的文件记录，省去了每次根据框架进行设置的麻烦

#### 关于版本管理工具

* 集中型：将仓库集中存放在服务器之中，所以只存在一个仓库
* 分散型：以Git为代表，将仓库Fork给每一个用户，也就是用户通过Fork将仓库复制到自己的账户下，可以进行随意编辑

### 基本操作

* git init：初始化仓库，会在执行了该命令的目录下生成.git目录，储存着管理当前的目录内容所需的仓库数据
* git status：查看仓库的状态，用于显示git仓库的状态，比如当前分支，工作树中文件的当前状态等等
* git add：向暂存区中添加文件，将文件加入暂存区，暂存区是提交之前的一个临时的区域
* git commit：保存仓库的历史记录，将当前暂存区中的文件实际保存到仓库的历史记录中，参数有-m，后面添加对这个提交的概述，如果没有这个参数则进入vim编辑器，第一行用于简述提交的更改内容，第二行为空行，第三行以后记述更改的原因和详细内容
* git log：查看提交日志，可以查看什么人在什么时候进行了提交或合并，以及操作前后有怎么样的差别，参数有--pretty：只显示提交信息的一行，-p：在提交信息之后显示文件的差别
* git diff：查看更改前后的区别，可以查看工作树，暂存区，最新提交之间的差别

### 分支的操作

master分支是git默认创建的分支，因此基本上所有的开发都是以这个分支为中心进行的。不同分支中可以同时进行不同的作业，等该分支作业完成之后再与master分支合并

* git branch：显示分支一览表，将分支名列表显示，同时可以确定当前所在分支(*表示当前所在分支)
* git checkout -b：创建或切换分支，以当前的master分支为基础创建新的分支。将分支名换为-可以切换到上一个分支
* git merge：合并分支，首先切换到要合并到的分支，记录下本次分支合并创建合并提交需加上--on--ff参数
* git log --graph：以图表形式查看分支

### 更改提交的操作

* git reset：回溯历史版本，git reset --hard提供目标时间点的hash值就可以完全恢复至该时间点的状态

### 冲突消除

* 文件发生了冲突时======以上部分是当前HEAD的内容，一以下部分是要合并的分支中的内容，在编辑器中加以修改然后提交
* 要修改上一条信息可以使用git commit --amend命令，执行命令后，编辑器就会启动，其中包含之前提交的信息，将提交部分的信息更改然后保存文件关闭编辑器

* git rebase -i：压缩历史，比如提交的内容中有拼写错误，可以将这个修改包含到前一个提交中，压缩成一个历史记录；执行该命令可以选定当前分支包含HEAD(最新提交)在内的两个最新历史记录为对象，并在编辑器中打开。

### 推送至远程仓库

* git remote add (origin) address：添加远程仓库后面跟上远程仓库地址。git会自动将远程仓库的名称设置为origin
* git push：推送至远程仓库git push -u origin master,-u参数可以在推送的同时，将origin仓库的master分支设置为本地仓库当前分支的upstream，添加了这个参数，将来运行git pull命令从远程仓库获取内容时，本地仓库的这个分支就可以直接从origin的master分支获取内容，省去了另外添加参数的麻烦

### 从远程仓库获取

* git clone：获取远程仓库，使用git clone命令后会默认处于master分支下，同时系统会自动将origin设置成该远程仓库的标识符。也就是说当前本地仓库的master分支与github端远程仓库的内容时相同的
*  git pull：获取最新的远程仓库分支，可以将本地的分支更新到最新状态













## git团队协作书籍阅读记录

### 创建本地仓库

流程：创建一个工单，用合适的名字创建一个分支并开始工作。将编辑添加到暂存区，将工作提交到本地仓库，从本地仓库通过git push提交到集中式代码托管系统，合并到master分支

### 关于一些命令

* 将项目迁移至git
  * `git clone url`：创建仓库的一个克隆
  * `git init`：初始化目录的版本控制
    * Git会感知到这个目录的所有文件，包括子目录，从而确保是在项目的根目录下运行init命令
  * `git status`：检查仓库的当前状态
  * 将文件导入git分为两个步骤，这个功能允许在工作目录同时进行多个无关的更改。更改可以被暂存在索引的一组提交中，每组都有一个不同的提交信息
    * `git add --all`：将仓库中的所有文件添加至暂存区
    * `git commit -m "description"`：将所有暂存的文件提交至仓库
* 查看历史记录
* `git log`
* 分支的使用
  * 分支是分离不同想法的方式，使用列出所有分支命令git branch --all时可能会看到本地分支和一个远程分支。
  * 远程分支列表不会自动更新，因此这个列表会随着时间而落后，只有fetch命令可以更新这个列表
  * 使用checkout命令可以切换分支
* 创建新的分支
  * 首先通过checkout签出一个希望作为起点使用的分支，然后使用branch命令创建一个新的分支，最后通过checkout命令签出新分支
  * 
